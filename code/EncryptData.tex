\begin{figure}[H]
  \centering
  \begin{minted}{java}
public byte[] getEncryption() {
  // Generate a tuple of the symmetric key and the symmetrically encrypted data
  Tuple<bytes> symmetricKeyData = symmetricEncrypt(message);

  // Encrypt the symmetric key
  bytes[] encryptedKey = asymmetricEncrypt(symmetricKeyData.getFirst(), publicKey);

  // Generate ciphertext from the encrypted symmetric key
  // and the data encrypted with the symmetric key
  bytes[] ciphertext = mergeByteArrays(encryptedKey, symmetricKeyData.getSecond());

  return ciphertext;
}
  \end{minted}
  \caption{
  	Generating encrypted data
  }{
  	A message is passed as data. The message is encrypted and a ciphertext returned as an array of bytes.
  }
  \label{code:encrypt_data}
\end{figure}
